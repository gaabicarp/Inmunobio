<div *ngIf='step === 1'>
  <div class="m-4" (click)='volver()' role="button">
    <h5><span><i class="bi bi-arrow-left"></i></span>VOLVER</h5>
</div>
  <div class="mx-4">        
      
      <div class="text-center my-4">
          <h2>Stock</h2>
      </div>
      <div class="card rounded shadow p-4 mb-4">
          <table class="table table-hover">
              <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Producto</th>
                    <th scope="col">Lote</th>
                    <th scope="col">Unidades</th>
                    <th scope="col">Contenedor</th>
                    <th scope="col">Detalle Ubicaci√≥n</th>
                    <th scope="col">Fecha de vencimiento</th>
                    <th></th>
                    <th></th>
                  </tr>
              </thead>
              <tbody>
                  <ng-container *ngFor='let a of stocks;let i = index'>
                    <tr *ngFor='let stock of a.producto; let j = index'>
                      <th scope="row">{{i + 1}}</th>
                      <td>{{a.nombre}}</td>
                      <td>{{stock.lote}}</td>
                      <td>{{stock.unidad}}</td>
                      <td>{{contenedores[stock.codigoContenedor-1]?.nombre}}</td>
                      <td>{{stock.detalleUbicacion}}</td>
                      <td>{{stock.fechaVencimiento | date: 'shortDate'}}</td>
                      <td>
                          <a class="text-primary" role="button" (click)=consumir(a,j)>
                            <i>Consumir</i>
                          </a>
                      </td>
                      <td class="d-flex">
                          <div class="mr-4">
                            <a class="text-primary" role="button" (click)=editar(a,j) >
                              <!-- (click)=editar(stock) -->
                              <i class="bi bi-pencil"></i>
                            </a>
                          </div>
                          <div>
                            <a class="text-danger" role="button" (click)=eliminar(a,j)>
                              <i class="bi bi-trash"></i>
                            </a>
                          </div>
                      </td>
                    </tr>
                  </ng-container>
                  

              </tbody>
            
          </table>
      </div>
  <button class="btn btn-primary" (click)=crear()>Agregar Stock</button>
  </div>
</div>
<div *ngIf='step === 2'>
  <app-agregar-stock
  [element]='productoSeleccionado'
  [idProducto]='idProducto'
  [espacio] = 'espacio'
  [modo]='modo'
  (volviendo)='onVolviendo($event)'
  >
</app-agregar-stock>
</div>
<div *ngIf='step === 3'>
  <app-consumir-stock
  [element]='productoSeleccionado'
  [idProducto]='idProducto'
  [espacio] = 'espacio'
  (volviendo)='onVolviendo($event)'
  >
</app-consumir-stock>
</div>
