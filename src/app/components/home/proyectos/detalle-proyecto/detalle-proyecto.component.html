<div class="m-4" routerLink="../" role="button">
    <h5><span><i class="bi bi-arrow-left"></i></span>VOLVER</h5>
</div>

<div class="mx-4">
  <div class="my-3">
    <div class="d-flex align-items-center">
      <h2 class="mb-0">{{proyecto?.nombre}} - {{proyecto?.codigoProyecto}}</h2>
      <div class="ml-4">
        <button class="btn btn-outline-primary" style="cursor: pointer" routerLink='../editar-proyecto/{{proyecto?.id_proyecto}}'><i class="bi bi-pencil text-primary"></i> Editar</button>
        <button class="btn btn-outline-danger ml-4" routerLink='finalizar-proyecto'>Finalizar Proyecto</button>
      </div>
    </div>
    <span class="text-danger" *ngIf='proyecto?.finalizado'>Proyecto cerrado</span>
  </div>
</div>
  

<div class="mx-4">
  <div class="p-4">
    <p class="text-secondary text-staatliches mb-0">Descripcion del proyecto</p>
    <p>{{proyecto?.descripcion}}</p>
    <p class="text-secondary text-staatliches mb-0">Conclusion del proyecto</p>
    <p class="text-danger"><i>{{proyecto?.conclusion ? proyecto?.conclusion : 'Proyecto Sin Finalizar'}}</i></p>
  </div>
  <div class="rounded pb-5 d-flex align-items-center justify-content-center">
    <div class="mx-5">
      <p class="text-secondary text-staatliches mb-0">Participantes</p>
      <p *ngFor='let usuario of usuariosProyecto' class="mb-0">{{usuario.nombre}}</p>  
    </div>
    <div class="barra"></div>
    <div class="mx-5">
      <p class="text-secondary text-staatliches mb-0">Fecha de Inicio</p>
      <p class="mb-0">{{proyecto?.fechaInicio | date}}</p>
    </div>
    <div class="barra"></div>
    <div class="mx-5">
      <p class="text-secondary text-staatliches mb-0">Fecha de Finalizacion</p>
      <p class="mb-0 {{proyecto?.fechaFinal ? 'text-danger' : ''}}">{{proyecto?.fechaFinal ? (proyecto?.fechaFinal | date) : 'Sin finalizar'}}</p>
    </div>
    <div class="barra"></div>
    <div class="mx-5">
      <p class="text-secondary text-staatliches mb-0">Jef@ de proyecto</p>
      <p class="mb-0">{{jefeProyecto?.nombre}}</p>  
    </div>
    <div class="barra"></div>
    <div class="mx-5">
      <p class="text-secondary text-staatliches mb-0">Financiacion Inicial</p>
      <p class="mb-0">${{proyecto?.montoInicial}}</p>  
    </div>
  </div>
  <div class="d-flex justify-content-center">
    <!-- <button class="btn btn-danger text-center" routerLink='finalizar-proyecto'>Finalizar Proyecto</button> -->
  </div>
  <div class="">
    <h2>Ultimas entradas de blog</h2>
    <div class="p-4">
      <div class="row">
        <div class="col-11">
          <ngb-alert [dismissible]="false">
            <strong>Experimento AAA-123 - Cambio en Bioterio</strong> 
            <p class="mb-0"><i>Gabriel Jotallan</i></p>
            <p>El animal <strong>AAA-1111</strong> correspondiente a la jaula <strong>AAA-1111</strong> cambio a la jaula <strong>AAA-1111</strong></p>
          </ngb-alert>
        </div>
        <div class="col-1 d-flex flex-column justify-content-center align-items-center">
          <div class="rounded-circle border border-dark d-flex justify-content-center align-items-center m-auto" style="width: 35px; height: 35px;">
            <i class="bi bi-arrow-left-right"></i>
          </div>
          <p class="text-center mb-0">20/03/19</p>
          <p>20:24hs</p>
        </div>
      </div>
      <div class="row">
        <div class="col-11">
          <ngb-alert [dismissible]="false">
            <strong>Experimento AAA-123 - Cambio en Bioterio</strong> 
            <p class="mb-0"><i>Gabriel Jotallan</i></p>
            <p>El animal <strong>AAA-1111</strong> correspondiente a la jaula <strong>AAA-1111</strong> cambio a la jaula <strong>AAA-1111</strong></p>
          </ngb-alert>
        </div>
        <div class="col-1 d-flex flex-column justify-content-center align-items-center">
          <div class="rounded-circle border border-dark d-flex justify-content-center align-items-center m-auto" style="width: 35px; height: 35px;">
            <i class="bi bi-arrow-left-right"></i>
          </div>
          <p class="text-center mb-0">20/03/19</p>
          <p>20:24hs</p>
        </div>
      </div>
      <div class="row">
        <div class="col-11">
          <ngb-alert [dismissible]="false">
            <strong>Experimento AAA-123 - Cambio en Bioterio</strong> 
            <p class="mb-0"><i>Gabriel Jotallan</i></p>
            <p>El animal <strong>AAA-1111</strong> correspondiente a la jaula <strong>AAA-1111</strong> cambio a la jaula <strong>AAA-1111</strong></p>
          </ngb-alert>
        </div>
        <div class="col-1 d-flex flex-column justify-content-center align-items-center">
          <div class="rounded-circle border border-dark d-flex justify-content-center align-items-center m-auto" style="width: 35px; height: 35px;">
            <i class="bi bi-arrow-left-right"></i>
          </div>
          <p class="text-center mb-0">20/03/19</p>
          <p>20:24hs</p>
        </div>
      </div>
      <button class="btn btn-outline-primary text-center">Ver mas</button>
    </div>
  </div>
</div>
<div class="m-4">
  <div class="d-flex align-items-center">
    <h2 class="mb-0">Experimentos</h2>
    <div class="ml-4">
      <button class="btn btn-outline-primary" style="cursor: pointer" routerLink='nuevo-experimento'>+ Nuevo</button>
    </div>
  </div>
  <div class="experimento-container">
    <div *ngFor="let experimento of experimentos" class="card card-experimento my-3 mx-4 p-4 shadow rounded list-group-item-action" routerLink='experimento/{{experimento.id_experimento}}' >
          <div class="">
                <div class="card-body">
                    <h5 class="card-title text-center">{{experimento.codigo}}</h5>
                    <hr class="my-3 bg-{{experimento.finalizado? 'danger' : 'success'}}">
                    <p class="card-text text-center">{{experimento.objetivos.substring(0,100)}}{{experimento.objetivos.length > 100 ? '...' : ''}}</p>
                    <div class="d-flex flex-row justify-content-between">
                        <div>
                            <h6><i>Fecha de Inicio</i></h6>
                            <p class="mb-0">{{experimento.fechaInicio | date}}</p>
                        </div>
                        <div>
                            <h6><i>Estado</i></h6>
                            <p class="mb-0">{{experimento.finalizado ? 'Finalizado' : 'Activo'}}</p>
                        </div>
                    </div>
                </div>
                <!-- <div class="d-flex justify-content-around">
                    <button class="btn btn-primary btn-lg" routerLink='{{proyecto.id_proyecto}}'>Ver</button>
                    <button class="btn btn-primary btn-lg" (click)='editarProyecto(proyecto)'>Editar</button>
                </div> -->
          </div>
      </div>
    </div>
</div>

<!-- <div class="mx-4">
    <ul ngbNav #nav="ngbNav" class="nav-tabs">
        <li [ngbNavItem]="1">
          <a ngbNavLink>Detalles</a>
          <ng-template ngbNavContent>
            <div class="mt-5">
                <div class="p-4">
                    <div class="text-center">
                      <h5><i>Descripcion del proyecto</i></h5>
                      <p>{{proyecto?.descripcion}}</p>
                    </div>
                    <div class="d-flex flex-row justify-content-around mt-5">
                        <div>
                            <h5><i>Fecha Inicio</i></h5>
                            <p>{{proyecto?.fechaInicio | date}}</p>
                        </div>
                        <div *ngIf='proyecto?.fechaFinal'>
                            <h5><i>Fecha Fin</i></h5>
                            <p>{{proyecto?.fechaFinal | date}}</p>
                        </div>
                        <div>
                          <h5><i>Jefe de proyecto</i></h5>
                          <p>{{jefeProyecto?.nombre}}</p>
                        </div>
                        <div>
                            <h5><i>Monto Inicial</i></h5>
                            <p>${{proyecto?.montoInicial}}</p>
                        </div>
                    </div>
                    <div class="mt-5">
                      <div *ngIf='proyecto?.fechaFinal'>
                          <h5><i>Conclusion</i></h5>
                          <p>{{proyecto?.conclusion}}</p>
                      </div>
                  </div>
                    <div class="my-3">
                      <h5>Usuarios asignados</h5>
                      <table class="table table-hover">
                          <thead>
                              <tr>
                                <th scope="col">#</th>
                                <th scope="col">Nombre</th>
                                <th scope="col">Ultimo acceso</th>
                                <th scope="col">Rol</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor='let usuario of usuariosProyecto; let i = index'>
                                <th scope="row">{{i + 1}}</th>
                                <td>{{usuario?.nombre}}</td>
                                <td>{{usuario?.id_grupoDeTrabajo}}</td>
                                <td>
                                  <span *ngFor='let permiso of usuario.permisos'>{{permiso?.descripcion}} - </span>
                              </tr>
                            </tbody>
                      </table>
                  </div>
                    <div class="text-center">
                      <button class="btn btn-secondary mx-2 btn-lg" routerLink='../editar-proyecto/{{proyecto?.id_proyecto}}'>
                          Editar Proyecto
                      </button>
                      <button class="btn btn-primary mx-2 btn-lg" routerLink='finalizar-proyecto'>
                          Finalizar Proyecto
                      </button>
                    </div>
                    
                </div>
            </div>
          </ng-template>
        </li>
        <li [ngbNavItem]="2">
          <a ngbNavLink>Blog</a>
          <ng-template ngbNavContent>
            <h5 class="mt-4">Timeline de proyecto</h5>
            <div class="card shadow rounded p-4 m-3">
              <form action="">
                <div class="row">
                  <div class="col">
                    <div class="form-group">
                      <label for="" class="form-label">Fecha Inicio</label>
                      <div class="input-group">
                          <input class="form-control" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">
                          <div class="input-group-append">
                              <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button">
                                  <i class="bi bi-calendar"></i>
                              </button>
                          </div>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group">
                      <label for="" class="form-label">Fecha Inicio</label>
                      <div class="input-group">
                          <input class="form-control" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">
                          <div class="input-group-append">
                              <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button">
                                  <i class="bi bi-calendar"></i>
                              </button>
                          </div>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <label for="exampleInputEmail1" class="form-label">Tipo de entrada</label>
                    <select class="form-control"  aria-label="Default select example">
                        <option selected>-Tipo-</option>
                        <option value="1">Blog</option>
                        <option value="2">Bioterio</option>
                        <option value="3">Acciones</option>
                    </select>
                  </div>
                </div>
              </form>
            </div>
            <div>
              <div class="row">
                <div class="col-1 d-flex flex-column justify-content-center align-items-center">
                  <div class="rounded-circle border border-dark d-flex justify-content-center align-items-center m-auto" style="width: 35px; height: 35px;">
                    <i class="bi bi-journal"></i>
                  </div>
                  <p class="text-center mb-0">20/03/19</p>
                  <p>20:24hs</p>
                </div>
                <div class="col-11">
                  <ngb-alert [dismissible]="false">
                    <strong>Experimento AAA-123 - Entrada en Blog</strong> 
                    <p class="mb-0"><i>Gabriel Jotallan</i></p>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Aliquid numquam, ipsam nulla vel veritatis dolore nesciunt dignissimos distinctio! Recusandae, explicabo.</p>
                  </ngb-alert>
                </div>
              </div>

              <div class="row">
                <div class="col-11">
                  <ngb-alert [dismissible]="false">
                    <strong>Experimento AAA-123 - Cambio en Bioterio</strong> 
                    <p class="mb-0"><i>Gabriel Jotallan</i></p>
                    <p>El animal <strong>AAA-1111</strong> correspondiente a la jaula <strong>AAA-1111</strong> cambio a la jaula <strong>AAA-1111</strong></p>
                  </ngb-alert>
                </div>
                <div class="col-1 d-flex flex-column justify-content-center align-items-center">
                  <div class="rounded-circle border border-dark d-flex justify-content-center align-items-center m-auto" style="width: 35px; height: 35px;">
                    <i class="bi bi-arrow-left-right"></i>
                  </div>
                  <p class="text-center mb-0">20/03/19</p>
                  <p>20:24hs</p>
                </div>
              </div>


              <div class="row">
                <div class="col-1 d-flex flex-column justify-content-center align-items-center">
                  <div class="rounded-circle border border-dark d-flex justify-content-center align-items-center m-auto" style="width: 35px; height: 35px;">
                    <i class="bi bi-journal"></i>
                  </div>
                  <p class="text-center mb-0">20/03/19</p>
                  <p>20:24hs</p>
                </div>
                <div class="col-11">
                  <ngb-alert [dismissible]="false">
                    <strong>Experimento AAA-123 - Entrada en Blog</strong> 
                    <p class="mb-0"><i>Gabriel Jotallan</i></p>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Aliquid numquam, ipsam nulla vel veritatis dolore nesciunt dignissimos distinctio! Recusandae, explicabo.</p>
                  </ngb-alert>
                </div>
              </div>

              <div class="row">
                <div class="col-11">
                  <ngb-alert [dismissible]="false">
                    <strong>Experimento AAA-123 - Cambio en Bioterio</strong> 
                    <p class="mb-0"><i>Gabriel Jotallan</i></p>
                    <p>El animal <strong>AAA-1111</strong> correspondiente a la jaula <strong>AAA-1111</strong> cambio a la jaula <strong>AAA-1111</strong></p>
                  </ngb-alert>
                </div>
                <div class="col-1 d-flex flex-column justify-content-center align-items-center">
                  <div class="rounded-circle border border-dark d-flex justify-content-center align-items-center m-auto" style="width: 35px; height: 35px;">
                    <i class="bi bi-arrow-left-right"></i>
                  </div>
                  <p class="text-center mb-0">20/03/19</p>
                  <p>20:24hs</p>
                </div>
              </div>
            </div>
            
          </ng-template>
        </li>
        <li [ngbNavItem]="3">
          <a ngbNavLink>Experimentos</a>
          <ng-template ngbNavContent>

            <form>
              <div class="form-group form-inline m-4 justify-content-around">
                <div>
                  Buscar experimento: <input class="form-control ml-2" type="text" [formControl]="filter"/>
                </div>
                  <button class="btn btn-primary" routerLink='nuevo-experimento'>Nuevo Experimento</button>
              </div>
            </form>

            <table class="table table-hover">
              <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Nombre</th>
                <th scope="col">Fecha Inicio</th>
                <th scope="col">Fuente Experimental</th>
                <th scope="col">Fecha Fin</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let experimento of experimentoFiltro; index as i" routerLink="experimento/{{experimento.id_experimento}}" style="cursor: pointer;">
                <th scope="row">{{ i + 1 }}</th>
                <td>
                  {{experimento?.conclusiones}}
                </td>
                <td>
                  {{experimento?.fechaInicio}}
                </td>
                <td>
                  {{experimento?.metodologia}}
                </td>
                <td>
                  {{experimento?.objetivos}}
                </td>
              </tr>
              <tr *ngIf='experimentoFiltro.length === 0'>
                <td colspan="5">Sin experimentos</td>
              </tr>
              </tbody>
            </table>
          </ng-template>
        </li>
      </ul>
      <div [ngbNavOutlet]="nav" class="mt-2"></div>
</div> -->
